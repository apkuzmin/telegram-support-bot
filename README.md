# Support Bot (Telegram, aiogram 3)

Бот службы поддержки: у каждого пользователя — один приватный чат с ботом, а у операторов — супергруппа с включёнными Topics (форум). Для каждого пользователя бот автоматически создаёт отдельный топик и дублирует туда все сообщения пользователя. Ответы операторов из топика отправляются пользователю в личку.

## Требования

- Python 3.10+ (рекомендуется 3.11+)
- У бота есть права в супергруппе: **Manage Topics** (создание топиков) и право писать сообщения
- В супергруппе включён **Forum / Topics**

## Запуск

1) Создайте окружение и установите зависимости:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

2) Создайте `.env` по примеру `.env.example` и заполните:

- `BOT_TOKEN`
- `OPERATOR_GROUP_ID` (id супергруппы, например `-100...`)

3) Запустите:

```bash
python -m support_bot
```

## Как работает

- Сообщения пользователя в личке копируются в топик `OPERATOR_GROUP_ID` (один топик на пользователя).
- Сообщения операторов, написанные в этом топике, копируются пользователю в личку.
- История сохраняется в SQLite (`DB_PATH`).

